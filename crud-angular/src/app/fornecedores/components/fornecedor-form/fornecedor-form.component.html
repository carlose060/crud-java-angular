<mat-toolbar color="primary"> Cadastro de Fornecedor </mat-toolbar>

<mat-card>
    <mat-card-content>
    <form [formGroup]="form">

      <mat-radio-group formControlName="tipoPessoa">
        <mat-radio-button value="1">Pessoa Fisica</mat-radio-button>
        <mat-radio-button value="2">Pessoa Juridica</mat-radio-button>
      </mat-radio-group>

      <mat-form-field *ngIf="form.get('tipoPessoa')?.value === '1'">
        <input matInput placeholder="CPF" formControlName="cpfCnpj" mask="000.000.000-00"  />
      </mat-form-field>

      <mat-form-field *ngIf="form.get('tipoPessoa')?.value === '2'">
        <input matInput placeholder="CNPJ" formControlName="cpfCnpj" mask="00.000.000/0000-00" />
      </mat-form-field>

      <mat-form-field>
        <input matInput placeholder="Nome " formControlName="nome" />
      </mat-form-field>

      <mat-form-field>
        <input matInput placeholder="CEP" formControlName="cep" mask="00000-000" />
      </mat-form-field>

      <mat-form-field>
        <input matInput placeholder="E-mail" formControlName="email" />
      </mat-form-field>

      <div *ngIf="form.get('tipoPessoa')?.value === '1'">
        <mat-form-field>
          <input matInput placeholder="Data Nascimento" formControlName="dataNascimento" mask="00/00/0000"/>
        </mat-form-field>

        <mat-form-field>
          <input matInput placeholder="RG" formControlName="rg" />
        </mat-form-field>
      </div>

      <mat-form-field appearance="fill">
        <mat-label>Empresas</mat-label>
        <mat-select formControlName="empresas" multiple>
          <mat-option *ngFor="let e of empresas" [value]="e">
            {{ e.nomeFantasia }} ({{ e.cnpj }})
          </mat-option>
        </mat-select>
      </mat-form-field>


      <button mat-raised-button (click)="onSubmit()">Salvar</button>
      <button mat-raised-button (click)="onBack()">Voltar</button>
    </form>
  </mat-card-content>
</mat-card>
